import{c as p,j as e,R as E,r as a,u as T,f as V,a as B,P as K,L as D,m as w,A as X,C as L,b as I,d as _}from"./tailwind-hv3IhW6i.js";const z=p("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),G=p("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Y=p("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Z=p("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),H=p("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),J=p("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Q=p("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ee=p("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),F=p("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),te=p("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),se=p("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),re=p("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ne=p("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),ae=({children:t,activePage:n,onNavigate:s})=>e.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans flex",children:[e.jsxs("aside",{className:"w-16 border-r border-border bg-card flex flex-col items-center py-6 gap-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center shadow-lg shadow-primary/20",children:e.jsx(z,{className:"text-primary-foreground w-6 h-6"})}),e.jsxs("nav",{className:"flex flex-col gap-4 mt-8 w-full px-2",children:[e.jsx(R,{icon:e.jsx(z,{}),label:"Dashboard",id:"dashboard",active:n==="dashboard",onClick:()=>s("dashboard")}),e.jsx(R,{icon:e.jsx(ne,{}),label:"Scanner",id:"scanner",active:n==="scanner",onClick:()=>s("scanner")}),e.jsx(R,{icon:e.jsx(H,{}),label:"Logs",id:"logs",active:n==="logs",onClick:()=>s("logs")}),e.jsx("div",{className:"flex-grow"}),e.jsx(R,{icon:e.jsx(re,{}),label:"Settings",id:"settings",active:n==="settings",onClick:()=>s("settings")})]})]}),e.jsxs("main",{className:"flex-1 p-8 relative overflow-hidden",children:[e.jsx("div",{className:"max-w-5xl mx-auto relative z-10",children:t}),e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-primary/5 rounded-full blur-3xl pointer-events-none"}),e.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[500px] h-[500px] bg-blue-500/5 rounded-full blur-3xl pointer-events-none"})]})]}),R=({icon:t,label:n,id:s,active:r,onClick:l})=>e.jsxs("button",{onClick:l,className:`w-full aspect-square flex items-center justify-center rounded-lg transition-all duration-200 group relative
      ${r?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"}
    `,title:n,children:[E.cloneElement(t,{size:20}),r&&e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary rounded-r-full"})]});function q(){const t=a.useRef(!1);return T(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ie(){const t=q(),[n,s]=a.useState(0),r=a.useCallback(()=>{t.current&&s(n+1)},[n]);return[a.useCallback(()=>V.postRender(r),[r]),n]}class le extends a.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oe({children:t,isPresent:n}){const s=a.useId(),r=a.useRef(null),l=a.useRef({width:0,height:0,top:0,left:0});return a.useInsertionEffect(()=>{const{width:m,height:f,top:i,left:y}=l.current;if(n||!r.current||!m||!f)return;r.current.dataset.motionPopId=s;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${f}px !important;
            top: ${i}px !important;
            left: ${y}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[n]),a.createElement(le,{isPresent:n,childRef:r,sizeRef:l},a.cloneElement(t,{ref:r}))}const M=({children:t,initial:n,isPresent:s,onExitComplete:r,custom:l,presenceAffectsLayout:m,mode:f})=>{const i=B(ce),y=a.useId(),u=a.useMemo(()=>({id:y,initial:n,isPresent:s,custom:l,onExitComplete:c=>{i.set(c,!0);for(const h of i.values())if(!h)return;r&&r()},register:c=>(i.set(c,!1),()=>i.delete(c))}),m?void 0:[s]);return a.useMemo(()=>{i.forEach((c,h)=>i.set(h,!1))},[s]),a.useEffect(()=>{!s&&!i.size&&r&&r()},[s]),f==="popLayout"&&(t=a.createElement(oe,{isPresent:s},t)),a.createElement(K.Provider,{value:u},t)};function ce(){return new Map}function de(t){return a.useEffect(()=>()=>t(),[])}const j=t=>t.key||"";function ue(t,n){t.forEach(s=>{const r=j(s);n.set(r,s)})}function me(t){const n=[];return a.Children.forEach(t,s=>{a.isValidElement(s)&&n.push(s)}),n}const xe=({children:t,custom:n,initial:s=!0,onExitComplete:r,exitBeforeEnter:l,presenceAffectsLayout:m=!0,mode:f="sync"})=>{const i=a.useContext(D).forceRender||ie()[0],y=q(),u=me(t);let c=u;const h=a.useRef(new Map).current,o=a.useRef(c),x=a.useRef(new Map).current,S=a.useRef(!0);if(T(()=>{S.current=!1,ue(u,x),o.current=c}),de(()=>{S.current=!0,x.clear(),h.clear()}),S.current)return a.createElement(a.Fragment,null,c.map(d=>a.createElement(M,{key:j(d),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:m,mode:f},d)));c=[...c];const N=o.current.map(j),b=u.map(j),v=N.length;for(let d=0;d<v;d++){const g=N[d];b.indexOf(g)===-1&&!h.has(g)&&h.set(g,void 0)}return f==="wait"&&h.size&&(c=[]),h.forEach((d,g)=>{if(b.indexOf(g)!==-1)return;const A=x.get(g);if(!A)return;const W=N.indexOf(g);let C=d;if(!C){const U=()=>{h.delete(g);const P=Array.from(x.keys()).filter(k=>!b.includes(k));if(P.forEach(k=>x.delete(k)),o.current=u.filter(k=>{const $=j(k);return $===g||P.includes($)}),!h.size){if(y.current===!1)return;i(),r&&r()}};C=a.createElement(M,{key:j(A),isPresent:!1,onExitComplete:U,custom:n,presenceAffectsLayout:m,mode:f},A),h.set(g,C)}c.splice(W,0,C)}),c=c.map(d=>{const g=d.key;return h.has(g)?d:a.createElement(M,{key:j(d),isPresent:!0,presenceAffectsLayout:m,mode:f},d)}),a.createElement(a.Fragment,null,h.size?c:c.map(d=>a.cloneElement(d)))},he=({status:t})=>{const n={healthy:"bg-green-500",warning:"bg-orange-500",critical:"bg-red-500"},s={healthy:"shadow-green-500/50",warning:"shadow-orange-500/50",critical:"shadow-red-500/50"},r=n[t],l=s[t];return e.jsxs("div",{className:"relative flex items-center justify-center w-64 h-64",children:[e.jsx(w.div,{className:`absolute w-full h-full rounded-full ${r} opacity-20`,animate:{scale:[1,1.5],opacity:[.3,0]},transition:{duration:2,repeat:1/0,ease:"easeOut"}}),e.jsx(w.div,{className:`absolute w-3/4 h-3/4 rounded-full ${r} opacity-20`,animate:{scale:[1,1.4],opacity:[.4,0]},transition:{duration:2,repeat:1/0,ease:"easeOut",delay:.5}}),e.jsx("div",{className:`relative z-10 w-32 h-32 rounded-full ${r} shadow-2xl ${l} flex items-center justify-center`,children:e.jsx(w.div,{animate:{scale:[1,.95,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-white font-bold text-xl",children:t==="healthy"?"OK":"FIX"})})]})},fe=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] gap-12",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"System Status"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Everything is running smoothly."})]}),e.jsx(he,{status:"healthy"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("button",{className:"group relative inline-flex items-center justify-center px-8 py-3 text-lg font-medium text-white transition-all duration-200 bg-primary rounded-full hover:bg-primary/90 hover:shadow-lg hover:shadow-primary/25 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[e.jsx("span",{children:"Run Health Check"}),e.jsx(X,{className:"w-5 h-5 ml-2 transition-transform group-hover:translate-x-1"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last scan: 2 hours ago"})]})]}),pe=()=>e.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure your AI connection."})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 shadow-sm space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"AI Configuration"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"openai-key",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"OpenAI API Key"}),e.jsx("input",{id:"openai-key",type:"password",placeholder:"sk-...",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your key is stored locally in your WordPress database. We never see it."})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 shadow-sm space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Rescue Behavior"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("label",{className:"text-base font-medium",children:"Auto-Activate Rescue Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically switch to Rescue Mode when a critical error is detected."})]}),e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-primary focus:ring-primary",defaultChecked:!0})]}),e.jsxs("div",{className:"border-t border-border pt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("label",{className:"text-base font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send a report after every automatic diagnosis."})]}),e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-primary focus:ring-primary"})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Notification Email"}),e.jsx("input",{id:"email",type:"email",placeholder:"admin@example.com",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-8 py-2",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Save All Settings"]})})]})]}),ge=()=>{const[t,n]=a.useState(!1),[s,r]=a.useState([]),[l,m]=a.useState("Ready to scan"),[f,i]=a.useState(!0),[y,u]=a.useState(null);a.useEffect(()=>{c()},[]);const c=async()=>{try{const x=await(await fetch(`${wpraiAdmin.restUrl}scan/plugins`,{headers:{"X-WP-Nonce":wpraiAdmin.nonce}})).json();Array.isArray(x)&&r(x)}catch(o){console.error("Failed to fetch plugins",o)}finally{i(!1)}},h=async()=>{n(!0),m("Initializing environment..."),u(null),r(o=>o.map(x=>({...x,status:"pending",error:void 0})));try{await fetch(`${wpraiAdmin.restUrl}scan/start`,{method:"POST",headers:{"X-WP-Nonce":wpraiAdmin.nonce}});for(let o=0;o<s.length;o++){const x=s[o];u(o),r(b=>b.map((v,d)=>d===o?{...v,status:"scanning"}:v)),m(`Checking ${x.name}...`);const N=await(await fetch(`${wpraiAdmin.restUrl}scan/test`,{method:"POST",headers:{"X-WP-Nonce":wpraiAdmin.nonce,"Content-Type":"application/json"},body:JSON.stringify({file:x.file})})).json();r(b=>b.map((v,d)=>d!==o?v:{...v,status:N.status==="healthy"?"healthy":"conflict",error:N.message})),await new Promise(b=>setTimeout(b,500))}u(null),m("Restoring original configuration..."),await fetch(`${wpraiAdmin.restUrl}scan/restore`,{method:"POST",headers:{"X-WP-Nonce":wpraiAdmin.nonce}}),m("Scan complete.")}catch(o){console.error("Scan failed",o),m("Scan failed. Please check logs."),u(null)}finally{n(!1)}};return f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(F,{className:"animate-spin text-muted-foreground"})}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] w-full max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12 space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Conflict Scanner"}),e.jsx("p",{className:"text-muted-foreground",children:"AI will systematically toggle plugins to identify compatibility issues."})]}),!t&&l==="Ready to scan"&&e.jsx("div",{className:"mb-8",children:e.jsxs("button",{onClick:h,className:"group relative inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-primary-foreground transition-all duration-200 bg-primary rounded-full hover:bg-primary/90 hover:shadow-lg hover:shadow-primary/25 hover:scale-105",children:[e.jsx(ee,{className:"w-6 h-6 mr-2 fill-current"}),e.jsx("span",{children:"Start Conflict Scan"})]})}),!t&&l==="Scan complete."&&e.jsx(ye,{plugins:s,onRestart:()=>{m("Ready to scan"),r(o=>o.map(x=>({...x,status:"pending",error:void 0})))}}),l!=="Scan complete."&&e.jsxs("div",{className:"relative w-full aspect-video bg-card/30 border border-border/50 rounded-3xl p-8 mb-8 overflow-hidden flex items-center justify-center",children:[e.jsx("div",{className:"grid grid-cols-4 gap-8 w-full max-w-2xl max-h-[400px] overflow-y-auto p-4",children:e.jsx(xe,{children:s.map((o,x)=>e.jsx(be,{plugin:o,isActive:x===y},o.id))})}),t&&e.jsx(w.div,{className:"absolute inset-0 bg-gradient-to-b from-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})]}),l!=="Scan complete."&&e.jsxs("div",{className:"w-full max-w-2xl bg-card border border-border rounded-xl p-4 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t?e.jsx(F,{className:"w-5 h-5 text-primary animate-spin"}):e.jsx(L,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"font-medium font-mono text-sm",children:l})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.filter(o=>o.status==="healthy").length," / ",s.length," Checked"]})]})]})},ye=({plugins:t,onRestart:n})=>{const s=t.filter(l=>l.status==="conflict"),r=t.filter(l=>l.status==="healthy");return e.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-3xl bg-card border border-border rounded-3xl p-8 shadow-xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.length>0?e.jsx(I,{className:"w-8 h-8 text-destructive"}):e.jsx(L,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold",children:"Scan Complete"}),e.jsx("p",{className:"text-muted-foreground",children:s.length>0?`Found ${s.length} potential conflict${s.length===1?"":"s"}.`:"No conflicts detected. Your plugins appear to be compatible."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-card/50 border border-border text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:t.length}),e.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Scanned"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-green-500/10 border border-green-500/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:r.length}),e.jsx("div",{className:"text-xs text-green-600/70 uppercase tracking-wider",children:"Healthy"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-destructive/10 border border-destructive/20 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-destructive",children:s.length}),e.jsx("div",{className:"text-xs text-destructive/70 uppercase tracking-wider",children:"Conflicts"})]})]}),s.length>0&&e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsx("h3",{className:"font-semibold text-sm uppercase tracking-wider text-muted-foreground",children:"Conflict Details"}),s.map(l=>e.jsxs("div",{className:"p-4 rounded-xl border border-destructive/30 bg-destructive/5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(I,{className:"w-5 h-5 text-destructive"}),e.jsx("span",{className:"font-bold text-destructive",children:l.name})]}),e.jsx("pre",{className:"text-xs font-mono bg-black/5 p-3 rounded-lg overflow-x-auto whitespace-pre-wrap text-destructive/80",children:l.error||"Unknown error occurred during activation."})]},l.id))]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:n,className:"px-6 py-3 rounded-full bg-primary text-primary-foreground font-medium hover:bg-primary/90 transition-colors",children:"Run Scan Again"})})]})},be=({plugin:t,isActive:n})=>e.jsxs(w.div,{layout:!0,className:`relative flex flex-col items-center justify-center p-4 rounded-xl border transition-colors duration-300 h-32 group/item
                ${t.status==="pending"&&!n?"border-border bg-card/50 text-muted-foreground":""}
                ${n?"border-primary text-primary z-10":""}
                ${t.status==="healthy"&&!n?"border-green-500/30 bg-green-500/5 text-green-500":""}
                ${t.status==="conflict"&&!n?"border-red-500 bg-red-500/10 text-red-500":""}
            `,children:[t.status==="conflict"?e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"w-8 h-8 mb-2"}),t.error&&e.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-80 max-w-md p-3 bg-destructive text-destructive-foreground text-xs rounded shadow-lg opacity-0 group-hover/item:opacity-100 transition-opacity pointer-events-none z-50 whitespace-pre-wrap break-words",children:t.error})]}):e.jsx(Y,{className:"w-8 h-8 mb-2"}),e.jsx("span",{className:"text-xs font-medium text-center truncate w-full px-2",title:t.name,children:t.name}),n&&e.jsx(w.div,{className:"absolute inset-0 border-2 border-primary bg-primary/5 rounded-xl shadow-[0_0_20px_rgba(0,0,0,0.2)]",layoutId:"scan-focus",transition:{type:"spring",bounce:.2,duration:.6}})]}),ve=[{id:"1",timestamp:"2023-10-27 10:30:01",level:"info",message:"Rescue Mode plugin initialized.",source:"System"},{id:"2",timestamp:"2023-10-27 10:30:05",level:"info",message:"Starting daily health check...",source:"Cron"},{id:"3",timestamp:"2023-10-27 10:30:06",level:"success",message:"Database connection verified.",source:"Health Check"},{id:"4",timestamp:"2023-10-27 10:30:08",level:"warning",message:"High memory usage detected (85MB).",source:"Monitor"},{id:"5",timestamp:"2023-10-27 10:35:12",level:"error",message:"Failed to connect to OpenAI API: Timeout.",source:"AI Client"},{id:"6",timestamp:"2023-10-27 10:35:15",level:"info",message:"Retrying connection...",source:"AI Client"},{id:"7",timestamp:"2023-10-27 10:35:16",level:"success",message:"Connection established.",source:"AI Client"},{id:"8",timestamp:"2023-10-27 11:00:00",level:"info",message:"Scheduled scan started.",source:"Scanner"},{id:"9",timestamp:"2023-10-27 11:02:30",level:"warning",message:'Plugin "Old Plugin" is causing slow queries.',source:"Scanner"},{id:"10",timestamp:"2023-10-27 11:05:00",level:"success",message:"Scan completed successfully.",source:"Scanner"}],je=()=>{const[t,n]=a.useState(""),[s,r]=a.useState("all"),l=ve.filter(i=>{const y=i.message.toLowerCase().includes(t.toLowerCase())||i.source.toLowerCase().includes(t.toLowerCase()),u=s==="all"||i.level===s;return y&&u}),m=i=>{switch(i){case"error":return e.jsx(G,{className:"w-4 h-4 text-red-500"});case"warning":return e.jsx(f,{className:"w-4 h-4 text-amber-500"});case"success":return e.jsx(L,{className:"w-4 h-4 text-green-500"});default:return e.jsx(Q,{className:"w-4 h-4 text-blue-500"})}},f=({className:i})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[e.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),e.jsx("path",{d:"M12 9v4"}),e.jsx("path",{d:"M12 17h.01"})]});return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 h-[calc(100vh-4rem)] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Logs"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"View and analyze system events."})]}),e.jsxs("button",{className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-primary bg-primary/10 rounded-lg hover:bg-primary/20 transition-colors",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),e.jsxs("div",{className:"flex gap-4 items-center bg-card border border-border p-4 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search logs...",className:"w-full pl-10 pr-4 py-2 bg-background border border-input rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",value:t,onChange:i=>n(i.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 border-l border-border pl-4",children:[e.jsx(J,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("select",{className:"bg-transparent text-sm font-medium focus:outline-none cursor-pointer",value:s,onChange:i=>r(i.target.value),children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"error",children:"Error"}),e.jsx("option",{value:"success",children:"Success"})]})]})]}),e.jsxs("div",{className:"flex-1 bg-black/90 rounded-xl border border-border/50 shadow-inner overflow-hidden flex flex-col font-mono text-sm",children:[e.jsxs("div",{className:"flex items-center px-6 py-3 border-b border-white/10 bg-white/5 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:[e.jsx("div",{className:"w-48",children:"Timestamp"}),e.jsx("div",{className:"w-24",children:"Level"}),e.jsx("div",{className:"w-32",children:"Source"}),e.jsx("div",{className:"flex-1",children:"Message"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:l.length>0?l.map(i=>e.jsxs("div",{className:"flex items-center px-4 py-2 hover:bg-white/5 rounded-lg transition-colors group",children:[e.jsx("div",{className:"w-48 text-muted-foreground text-xs",children:i.timestamp}),e.jsxs("div",{className:"w-24 flex items-center gap-2",children:[m(i.level),e.jsx("span",{className:`uppercase text-xs font-bold
                    ${i.level==="error"?"text-red-500":""}
                    ${i.level==="warning"?"text-amber-500":""}
                    ${i.level==="success"?"text-green-500":""}
                    ${i.level==="info"?"text-blue-500":""}
                  `,children:i.level})]}),e.jsx("div",{className:"w-32 text-muted-foreground",children:i.source}),e.jsx("div",{className:"flex-1 text-gray-300 group-hover:text-white transition-colors",children:i.message})]},i.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[e.jsx(H,{className:"w-12 h-12 mb-4 opacity-20"}),e.jsx("p",{children:"No logs found matching your criteria."})]})})]})]})},we=()=>{const[t,n]=a.useState("dashboard");E.useEffect(()=>{const r=window.location.hash.replace("#","");r&&["dashboard","settings","scanner","logs"].includes(r)&&n(r)},[]);const s=r=>{n(r),window.location.hash=r};return e.jsxs(ae,{activePage:t,onNavigate:s,children:[t==="dashboard"&&e.jsx(fe,{}),t==="settings"&&e.jsx(pe,{}),t==="scanner"&&e.jsx(ge,{}),t==="logs"&&e.jsx(je,{})]})},O=document.getElementById("wp-rescuemode-ai-admin-root");O?_(O).render(e.jsx(E.StrictMode,{children:e.jsx(we,{})})):console.error("WP RescueMode AI: Root element #wp-rescuemode-ai-admin-root not found");
